#!/bin/sh
echo "ğŸ” Running pre-commit checks..."

# 1. TypeScript type checking (strict) - CRITICAL
echo "ğŸ“ Checking TypeScript types..."
bun run type-check:strict
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript type check failed. Please fix the errors before committing."
  exit 1
fi

# 2. Linting (warnings only, won't block commit)
echo "ğŸ§¹ Running linter (warnings only)..."
bunx lint-staged
if [ $? -ne 0 ]; then
  echo "âš ï¸  Linting issues found, but allowing commit. Run 'bun run fix' to fix them."
fi

echo "âœ… Pre-commit checks passed! (TypeScript validation successful)"